<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bewerbung – Doniman F. Peña Parra</title>

  <!-- =========================================================
       1) Fonts & zentrales Stylesheet (Dataport-Look)
       - Roboto + Roboto Condensed wie auf dataport.de
       - Einheitliches Styling aus assets/css/site.css
       ========================================================= -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Roboto+Condensed:wght@300;400;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="assets/css/site.css" />

  <!-- =========================================================
       2) Seiten-spezifische Ergänzungen
       - Hintergrundbild fallback (falls noch nicht in site.css gesetzt)
       - Toolbar-/Fit-to-screen-Styles (klein & fokussiert)
       ========================================================= -->
  <style>
    /* Hintergrundbild: fullscreen, DPI-unabhängig
       -> Nimm diesen Block raus, wenn du es bereits in site.css gesetzt hast. */
    html{
      background: url("assets/img/netzt.png") center center / cover no-repeat fixed;
    }
    body{ background: transparent; } /* Content liegt über dem Bild */

    /* Toolbar (Ansicht) – kompakt, nutzt deine Markenfarben aus site.css-Variablen */
    .view-tools{
      display:flex; gap:10px; justify-content:flex-end;
      padding:8px var(--padx) 0; max-width:var(--maxw); margin:0 auto;
    }
    .view-tools button{
      background:var(--brand-primary); color:#fff; border:0; border-radius:10px;
      padding:8px 12px; font-weight:700; cursor:pointer;
    }
    .view-tools button:hover{ background:var(--brand-accent); }

    /* Bildbereich / Figure */
    .image-section{
      border-top: 4px solid var(--brand-accent);
      padding: 12px var(--padx) 24px;
      max-width: var(--maxw);
      margin: 0 auto;
      background: rgba(255,255,255,.92);             /* Lesbarkeit vor BG */
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      border-radius: 12px;
    }
    .image-section figure{ margin: 0; }
    .image-section img{ display:block; max-width:100%; height:auto; margin:0 auto; }
    .image-hint{ color:#888; font-size:.95rem; text-align:center; margin-top:8px; }

    /* Fit‑to‑screen: JS setzt --fitHeight; hier nur die Regel */
    .fit-to-screen #bpmn{ width:auto; max-height: var(--fitHeight, 70vh); }

    /* A11y Helfer (falls du sie nicht schon in site.css hast) */
    .u-visually-hidden{
      position:absolute!important; height:1px; width:1px; overflow:hidden;
      clip:rect(1px,1px,1px,1px); white-space:nowrap;
    }
    .u-visually-hidden:focus{
      clip:auto; height:auto; width:auto; position:static; white-space:normal;
    }
  </style>
</head>

<body>
  <!-- =========================================================
       Header – nutzt die Header-/Nav-Styles aus site.css
       + dünne rote Topline für Dataport-Anmutung
       ========================================================= -->
  <header class="page-topline" style="border-top:4px solid var(--brand-accent);">
    <img src="assets/img/DonimanLogo1.png" alt="Doniman Logo" class="logo" />
    <nav aria-label="Hauptnavigation">
      <a href="index.html" aria-current="page">Start</a>
      <a href="uebermich_1.0.0.html">Über mich</a>
      <a href="projekte.html">Projekte & Leistungen</a>
      <a href="prozessmodellierung.html">Prozessmodellierung</a>
    </nav>
  </header>

  <!-- =========================================================
       Hero – Dataport-typische Struktur
       - .hero / .hero-inner aus site.css
       - .headline (Roboto Condensed 300), .subline grau
       ========================================================= -->
  <section class="hero">
    <div class="hero-inner">
      <h1 class="headline">Bewerbung als Prozessmanager ITSM Betrieb Steuern (w/m/d)</h1>
      <p class="subline">Kennziffer: 10672‑TX52</p>
      <p class="subline" style="margin-top:.6rem;">
        Schön, dass ihr hier seid. Willkommen!
      </p>
      <p class="lead" style="margin-top:.4rem;">
        Diese Seite bietet einen kurzen Einblick in meine Arbeit im Bereich Measurement &amp; Reporting nach ITIL® 4.
        Für eine faktenbasierte ITSM‑Steuerung zeige ich, wie KPI‑Design, Datenmodell/ETL und Dashboards mit
        BPMN‑Prozessmodellen kombiniert werden – nachvollziehbar in einem transparenten Schritt‑für‑Schritt‑Vorgehen.
      </p>
      <p class="lead">Mein Motto: Struktur trifft Leidenschaft, Prozesse optimieren, Menschen inspirieren.</p>
    </div>
  </section>

  <!-- =========================================================
       Toolbar – Buttons schalten zwischen „Gesamtansicht“ & 100%
       ========================================================= -->
  <div class="view-tools" role="group" aria-label="Ansicht">
    <button type="button" id="fitBtn"  aria-pressed="false">Gesamtansicht</button>
    <button type="button" id="realBtn" aria-pressed="false">100% Größe</button>
  </div>

  <!-- =========================================================
       Bildbereich – Figure + Fallback
       - Panel-Optik für Lesbarkeit vor dem Hintergrund
       ========================================================= -->
  <section class="image-section" aria-labelledby="bpmnTitle">
    <h2 id="bpmnTitle" class="u-visually-hidden">BPMN‑Übersicht</h2>
    <figure>
      <img
        id="bpmn"
        src="assets/img/BPMNMAP.png"
        alt="BPMN‑Diagramm – Übersichtskarte der Prozessbausteine"
        loading="eager" decoding="async"
        onerror="
          this.onerror=null;
          this.src='assets/img/placeholder.png';
          document.getElementById('imgError').hidden=false;
        "
      />
      <figcaption class="image-hint" id="imgError" hidden>
        Hinweis: Originalbild nicht gefunden. Prüfe Pfad/Schreibweise (<code>assets/img/BPMNMAP.png</code>).
      </figcaption>
    </figure>
  </section>

  <!-- =========================================================
       Footer – dezenter Trenner wie bei Dataport
       ========================================================= -->
  <footer>
    &copy; 2025 Doniman F. Peña Parra – Bewerbung für Dataport
  </footer>

  <!-- =========================================================
       JavaScript – Fit-to-screen Logik (kommentiert)
       - computeFitHeight(): berechnet freie Höhe und setzt CSS-Var
       - enableFit()/disableFit(): toggeln Klasse & ARIA-State
       ========================================================= -->
  <script>
    // DOM-Referenzen
    const img    = document.getElementById('bpmn');
    const fitBtn = document.getElementById('fitBtn');
    const realBtn= document.getElementById('realBtn');

    // Verfügbare Bildhöhe = Viewport - (Header + Hero + Toolbar + Footer) - Sicherheitsabstand
    function computeFitHeight(){
      const header = document.querySelector('header')?.offsetHeight || 0;
      const hero   = document.querySelector('.hero')?.offsetHeight   || 0;
      const tools  = document.querySelector('.view-tools')?.offsetHeight || 0;
      const footer = document.querySelector('footer')?.offsetHeight || 0;
      const available = Math.max(240, window.innerHeight - header - hero - tools - footer - 16);
      document.documentElement.style.setProperty('--fitHeight', available + 'px');
    }

    // „Gesamtansicht“ aktivieren
    function enableFit(){
      computeFitHeight();
      document.body.classList.add('fit-to-screen');
      fitBtn.setAttribute('aria-pressed','true');
      realBtn.setAttribute('aria-pressed','false');
    }

    // 100%-Größe wiederherstellen
    function disableFit(){
      document.body.classList.remove('fit-to-screen');
      img.style.maxHeight = ''; // sicherheitshalber reset
      fitBtn.setAttribute('aria-pressed','false');
      realBtn.setAttribute('aria-pressed','true');
    }

    // Events
    fitBtn.addEventListener('click', enableFit);
    realBtn.addEventListener('click', disableFit);
    window.addEventListener('resize', () => {
      if (document.body.classList.contains('fit-to-screen')) computeFitHeight();
    });

    // Beim Laden direkt passend einrasten
    enableFit();
  </script>
</body>
</html>
