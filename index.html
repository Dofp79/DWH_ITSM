<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bewerbung – Doniman F. Peña Parra</title>

  <!-- Webfont (einfach; für DSGVO ideal: lokal hosten) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet" />

  <style>
    /* ===============================
       1) Design‑Variablen (Farben)
       =============================== */
    :root {
      --primary-color: #cc0033; /* Linkfarbe / Hauptakzent */
      --accent-color:  #cc0033; /* reserviert für spätere Trennung */
      --deep-red:      #7d212b; /* dunkler Akzent (Borders etc.) */
      --text-color:    #1a1a1a; /* Fließtext */
      --light-gray:    #f4f4f4; /* helle Flächen (Header/Hero/Footer) */
      --focus-ring:    #1c527f; /* sichtbarer Tastatur-Fokus */
    }

    /* ===============================
       2) Basislayout / Typografie
       =============================== */
    html, body { margin: 0; }
    body {
      font-family: 'Roboto', sans-serif;
      background: #fff;
      color: var(--text-color);
      line-height: 1.55;
    }
    /* gut sichtbarer Fokus für A11y */
    a:focus, button:focus { outline: 2px solid var(--focus-ring); outline-offset: 2px; }

    /* ===============================
       3) Header + Navigation
       =============================== */
    header{
      display:flex; justify-content:space-between; align-items:center; gap:20px;
      padding:20px 40px; background:var(--light-gray); flex-wrap:wrap;
    }
    .logo{ height: clamp(60px, 8vw, 80px); }
    nav{ display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    nav a{
      color:var(--primary-color); font-weight:700; text-decoration:none;
    }
    nav a:hover{ color:var(--deep-red); }

    /* ===============================
       4) Hero‑Bereich (Titel + Intro)
       =============================== */
    .hero{ padding:48px 40px 20px; background:var(--light-gray); }
    .hero h1{
      font-size: clamp(1.8rem, 5vw, 2.6rem);
      color: var(--primary-color);
      margin: 0 0 6px;
      font-weight: 500;
    }
    .hero h2{
      font-size: clamp(1.4rem, 4vw, 2.2rem);
      color: var(--deep-red);
      margin: 10px 0 0;
      font-weight: 400;
    }
    .description{
      font-size: clamp(1rem, 2.5vw, 1.1rem);
      color: #444;              /* besserer Kontrast als #555 */
      max-width: 1000px;
      margin-top: 6px;
    }

    /* ===============================
       5) Toolbar (Ansicht steuern)
       =============================== */
    .view-tools{
      display:flex; gap:10px; justify-content:flex-end;
      padding:8px 40px 0;
    }
    .view-tools button{
      background:#7d212b; color:#fff; border:0; border-radius:10px;
      padding:8px 12px; font-weight:700; cursor:pointer;
    }
    .view-tools button:hover{ background:#cc0033; }

    /* ===============================
       6) Bildbereich (BPMN)
       =============================== */
    .image-section{
      border-top: 4px solid var(--deep-red);
      padding: 12px 40px 20px;
    }
    .image-section figure{ margin: 0; }
    .image-section img{
      display:block; max-width:100%; height:auto; margin:0 auto;
    }
    .image-hint{
      color:#888; font-size:.95rem; text-align:center; margin-top:8px;
    }

    /* Fit‑to‑screen: Begrenze Bildhöhe dynamisch per JS‑gesetzter CSS‑Variable */
    .fit-to-screen #bpmn{ width:auto; max-height: var(--fitHeight, 70vh); }

    /* ===============================
       7) Footer
       =============================== */
    footer{
      text-align:center; font-size:.9em; color:#888;
      padding:12px; background:var(--light-gray);
    }

    /* ===============================
       8) A11y‑Hilfsklasse (visually hidden)
       =============================== */
    .u-visually-hidden{
      position:absolute!important; height:1px; width:1px; overflow:hidden;
      clip:rect(1px,1px,1px,1px); white-space:nowrap;
    }
    .u-visually-hidden:focus{
      clip:auto; height:auto; width:auto; position:static; white-space:normal;
    }

    /* ===============================
       9) Responsive kleiner Screens
       =============================== */
    @media (max-width: 768px){
      header{ padding:16px 20px; align-items:flex-start; }
      .hero{ padding:40px 20px 20px; }
    }
    /* Hinweis: KEINE fixe Höhe für .image-section -> Bild wird nie abgeschnitten */
  </style>
</head>

<body>

  <!-- ===============================
       HEADER mit Logo + Navigation
       =============================== -->
  <header>
    <img src="assets/img/DonimanLogo1.png" alt="Doniman Logo" class="logo" />
    <nav aria-label="Hauptnavigation">
      <a href="uebermich_1.0.0.html">Über mich</a>
      <a href="projekte.html">Projekte und Leistungen</a>
      <a href="prozessmodellierung.html">Prozessmodellierung</a>
      <a href="ProjekteLeistungen.html">Projekte &amp; Leistungen2</a>
    </nav>
  </header>

  <!-- ===============================
       HERO: Titel + Einleitung
       =============================== -->
  <section class="hero">
    <h1>Bewerbung als Prozessmanager ITSM Betrieb Steuern (w/m/d)</h1>
    <h2>Kennziffer: 10672‑TX52</h2>
    <p class="description">Schön, dass ihr hier seid. Willkommen!</p>
    <p class="description">
      Diese Seite bietet einen kurzen Einblick in meine Arbeit im Bereich Measurement &amp; Reporting nach ITIL® 4.
      Für eine faktenbasierte ITSM‑Steuerung zeige ich, wie KPI‑Design, Datenmodell/ETL und Dashboards mit
      BPMN‑Prozessmodellen kombiniert werden – nachvollziehbar in einem transparenten Schritt‑für‑Schritt‑Vorgehen.
    </p>
    <p class="description">Mein Motto: Struktur trifft Leidenschaft, Prozesse optimieren, Menschen inspirieren.</p>
  </section>

  <!-- ===============================
       Toolbar: Ansicht steuern
       =============================== -->
  <div class="view-tools" role="group" aria-label="Ansicht">
    <button type="button" id="fitBtn"  aria-pressed="false">Gesamtansicht</button>
    <button type="button" id="realBtn" aria-pressed="false">100% Größe</button>
  </div>

  <!-- ===============================
       Bildbereich: Figure + Fallback
       =============================== -->
  <section class="image-section" aria-labelledby="bpmnTitle">
    <h2 id="bpmnTitle" class="u-visually-hidden">BPMN‑Übersicht</h2>
    <figure>
      <!-- Pfad anpassen, falls dein Bild woanders liegt -->
      <img
        id="bpmn"
        src="assets/img/BPMNMAP.png"
        alt="BPMN‑Diagramm – Übersichtskarte der Prozessbausteine"
        loading="eager" decoding="async"
        onerror="
          this.onerror=null;
          this.src='assets/img/placeholder.png';
          document.getElementById('imgError').hidden=false;
        "
      />
      <figcaption class="image-hint" id="imgError" hidden>
        Hinweis: Originalbild nicht gefunden. Prüfe Pfad/Schreibweise (<code>assets/img/BPMNMAP.png</code>).
      </figcaption>
    </figure>
  </section>

  <!-- ===============================
       Footer
       =============================== -->
  <footer>
    &copy; 2025 Doniman F. Peña Parra – Bewerbung für Dataport
  </footer>

  <!-- ===============================
       JavaScript (am Ende, damit DOM vorhanden ist)
       - Compute Fit‑Höhe: rechnet verfügbare Höhe (ohne Header/Hero/Toolbar/Footer)
       - enableFit(): schaltet „Gesamtansicht“ ein
       - disableFit(): stellt 100% Größe wieder her
       =============================== -->
  <script>
    // DOM‑Referenzen erst NACH dem Rendern holen
    const img    = document.getElementById('bpmn');
    const fitBtn = document.getElementById('fitBtn');
    const realBtn= document.getElementById('realBtn');

    // Verfügbare Höhe für das Bild berechnen und als CSS‑Variable setzen
    function computeFitHeight(){
      const header = document.querySelector('header')?.offsetHeight || 0;
      const hero   = document.querySelector('.hero')?.offsetHeight   || 0;
      const tools  = document.querySelector('.view-tools')?.offsetHeight || 0;
      const footer = document.querySelector('footer')?.offsetHeight || 0;

      // Sicherheitsabstand 16px, Mindesthöhe 240px
      const available = Math.max(240, window.innerHeight - header - hero - tools - footer - 16);
      document.documentElement.style.setProperty('--fitHeight', available + 'px');
    }

    // „Gesamtansicht“ aktivieren
    function enableFit(){
      computeFitHeight();
      document.body.classList.add('fit-to-screen');
      fitBtn.setAttribute('aria-pressed','true');
      realBtn.setAttribute('aria-pressed','false');
    }

    // Zurück zu 100% Bildgröße
    function disableFit(){
      document.body.classList.remove('fit-to-screen');
      img.style.maxHeight = ''; // Sicherheitsreset (eigentlich nicht nötig, wird per Klasse gesteuert)
      fitBtn.setAttribute('aria-pressed','false');
      realBtn.setAttribute('aria-pressed','true');
    }

    // Event‑Handler
    fitBtn.addEventListener('click', enableFit);
    realBtn.addEventListener('click', disableFit);
    window.addEventListener('resize', () => {
      if (document.body.classList.contains('fit-to-screen')) computeFitHeight();
    });

    // Optional: Beim ersten Laden direkt passend einrasten
    enableFit();
  </script>
</body>
</html>
